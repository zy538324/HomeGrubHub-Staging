<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Shopping List</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <!-- Navigation for Home+ tier features -->
    <nav style="background: #f5f5f5; padding: 10px; margin-bottom: 20px; border-radius: 5px;">
        <a href="/nutrition/recipe-search" style="margin-right: 15px;">ğŸ“ Recipe Search</a>
        <a href="/nutrition/smart-shopping-list" style="margin-right: 15px; font-weight: bold; color: #007bff;">ğŸ›’ Smart Shopping List</a>
        <a href="/nutrition/recipe-analysis" style="margin-right: 15px;">ğŸ“Š Recipe Analysis</a>
        <a href="/nutrition/enhanced-progress" style="margin-right: 15px;">ğŸ“ˆ Progress Dashboard</a>
        <a href="/nutrition/weekly-calendar" style="margin-right: 15px;">ğŸ“… Weekly Calendar</a>
        <a href="/nutrition/barcode-scanner" style="margin-right: 15px;">ğŸ“± Barcode Scanner</a>
    </nav>

    <h1>ğŸ›’ Smart Shopping List</h1>
    <p><em>Home+ Tier Feature: Automatically organized by aisle!</em></p>
    
    <form method="POST" action="/nutrition/generate-smart-list">
        <button type="submit">Generate from Recent Meals</button>
    </form>
    
    {% for aisle, items in grouped_items.items() %}
    <h3>{{ aisle }}</h3>
    <ul>
        {% for item in items %}
        <li>
            {{ item.name }} 
            <form method="POST" action="/nutrition/delete-smart-item" style="display:inline;">
                <input type="hidden" name="item_id" value="{{ item.id }}">
                <button type="submit">Remove</button>
            </form>
        </li>
        {% endfor %}
    </ul>
    {% endfor %}
    
    <h3>Add Custom Item</h3>
    <form method="POST" action="/nutrition/add-smart-item">
        <input type="text" name="item" placeholder="Item name..." required>
        <select name="aisle">
            <option value="Produce">Produce</option>
            <option value="Dairy">Dairy</option>
            <option value="Meat">Meat & Seafood</option>
            <option value="Pantry">Pantry</option>
            <option value="Frozen">Frozen</option>
            <option value="Bakery">Bakery</option>
            <option value="Other">Other</option>
        </select>
        <button type="submit">Add</button>
    </form>
</body>
</html>
